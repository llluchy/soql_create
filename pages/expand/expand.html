<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOQL Creator - Êï∞ÊçÆÂ∫ìÁÆ°ÁêÜÂ∑•ÂÖ∑</title>
    <link rel="stylesheet" href="expand.css">
</head>
<body>
    <div class="layout-container">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <header class="top-navbar">
            <div class="navbar-left">
                <div class="logo">SOQL Creator</div>
                <div class="connection-info">
                    <span class="env-badge production" id="envBadge">Production</span>
                    <select class="org-select" id="orgSelect">
                        <option value="">ËØ∑ÈÄâÊã©ÁéØÂ¢É</option>
                    </select>
                </div>
            </div>
            <div class="navbar-center">
                <div class="query-tabs">
                    <div class="tab active" data-query-id="1">Query 1</div>
                    <div class="tab" data-query-id="2">Query 2</div>
                    <button class="new-tab-btn" title="Êñ∞Âª∫Êü•ËØ¢" id="newTabBtn">+</button>
                </div>
            </div>
            <div class="navbar-right">
                <button class="btn-icon" title="ËÆæÁΩÆ" id="settingsBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
        <div class="content-area">
            <!-- Â∑¶‰æßËæπÊ†è -->
            <aside class="sidebar">
                <!-- ÂØπË±°ÂàóË°®Âå∫Âüü -->
                <div class="object-panel">
                    <div class="panel-header">
                        <h3>ÂØπË±°</h3>
                        <input type="text" class="search-input" placeholder="ÊêúÁ¥¢ÂØπË±°..." id="objectSearch">
                        <button class="btn-icon" title="Âà∑Êñ∞ÂØπË±°ÂàóË°®" id="refreshObjects">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="object-filters">
                        <button class="filter-btn active" data-filter="all">ÂÖ®ÈÉ®</button>
                        <button class="filter-btn" data-filter="business">‰∏öÂä°ÂØπË±°</button>
                        <button class="filter-btn" data-filter="metadata">ÂÖÉÊï∞ÊçÆÂØπË±°</button>
                        <button class="filter-btn" data-filter="system">Á≥ªÁªüÂØπË±°</button>
                    </div>
                    <div class="object-list" id="objectList">
                        <div class="empty-state">
                            <div class="empty-icon">‚è≥</div>
                            <div class="empty-title">Ê≠£Âú®Âä†ËΩΩÂØπË±°ÂàóË°®...</div>
                            <div class="empty-description">ËØ∑Á®çÂÄôÔºåÊ≠£Âú®Ëé∑ÂèñSalesforceÂØπË±°Êï∞ÊçÆ</div>
                        </div>
                    </div>
                </div>
                
                <!-- Â≠óÊÆµÂàóË°®Âå∫Âüü -->
                <div class="field-panel">
                    <div class="panel-header">
                        <h3>Â≠óÊÆµ</h3>
                        <input type="text" class="search-input" placeholder="ÊêúÁ¥¢Â≠óÊÆµ..." id="fieldSearch">
                    </div>
                    <div class="field-controls">
                        <button class="btn-icon" title="ÂÖ®ÈÄâÂ≠óÊÆµ" id="selectAllFields">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,11 12,14 22,4"></polyline>
                                <path d="M21,12v7a2,2 0 0,1 -2,2H5a2,2 0 0,1 -2,-2V5a2,2 0 0,1 2,-2h11"></path>
                            </svg>
                        </button>
                        <button class="btn-icon" title="ÂÖ®‰∏çÈÄâÂ≠óÊÆµ" id="deselectAllFields">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            </svg>
                        </button>
                        <button class="btn-icon" title="ÈÄâÊã©Â∏∏Áî®Â≠óÊÆµ" id="selectCommonFields">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
                            </svg>
                        </button>
                    </div>
                    <div class="field-list" id="fieldList">
                        <div class="empty-state">
                            <div class="empty-icon">üìù</div>
                            <div class="empty-title">ËØ∑ÂÖàÈÄâÊã©ÂØπË±°</div>
                            <div class="empty-description">ÈÄâÊã©‰∏Ä‰∏™ÂØπË±°‰ª•Êü•ÁúãÂÖ∂Â≠óÊÆµÂàóË°®</div>
                        </div>
                    </div>
                    <div class="field-footer">
                        <button class="generate-soql-btn" id="generateSOQLBtn">ÁîüÊàê SOQL</button>
                    </div>
                </div>
            </aside>

            <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
            <main class="main-content">
                <!-- SOQL ÊòæÁ§∫Âå∫Âüü (1/4 È´òÂ∫¶) -->
                <section class="query-display-section">
                    <div class="section-header">
                        <h3>SOQL Êü•ËØ¢ÁºñËæëÂô®</h3>
                        <div class="section-controls">
                            <button class="btn-sm" id="executeQueryBtn">ÊâßË°å</button>
                            <button class="btn-sm" id="copyQueryBtn">Â§çÂà∂</button>
                            <button class="btn-sm" id="formatQueryBtn">Ê†ºÂºèÂåñ</button>
                            <button class="btn-sm" id="clearQueryBtn">Ê∏ÖÁ©∫</button>
                        </div>
                    </div>
                    <div class="query-display">
                        <textarea class="query-code" id="generatedQuery" placeholder="Âú®Ê≠§ËæìÂÖ•ÊàñÁºñËæë SOQL Êü•ËØ¢...">SELECT Id, Name FROM Account LIMIT 10</textarea>
                    </div>
                </section>
                
                <!-- ÂèØË∞ÉÊï¥È´òÂ∫¶ÁöÑÂàÜÈöîÊù° -->
                <div class="resize-handle" id="resizeHandle"></div>
                
                <!-- Êü•ËØ¢ÁªìÊûúÂå∫Âüü (3/4 È´òÂ∫¶) -->
                <section class="result-section">
                    <div class="section-header">
                        <h3>Êü•ËØ¢ÁªìÊûú</h3>
                        <div class="section-controls">
                            <span class="result-info">
                                <span id="resultCount">0</span> Êù°ËÆ∞ÂΩï
                                <span id="executionTime">ÊâßË°åÊó∂Èó¥: 0ms</span>
                            </span>
                            <button class="btn-sm" id="exportResultBtn">ÂØºÂá∫</button>
                            <button class="btn-sm" id="refreshResultBtn">Âà∑Êñ∞</button>
                        </div>
                    </div>
                    <div class="result-viewer">
                        <div class="result-table-container">
                            <table class="result-table" id="resultTable">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Âä®ÊÄÅÁîüÊàêÁöÑÁªìÊûúË°å -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Áä∂ÊÄÅÊ†è -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="status-item" id="connectionStatus">Â∑≤ËøûÊé•</span>
                <span class="status-item" id="selectedObject">Êú™ÈÄâÊã©ÂØπË±°</span>
                <span class="status-item" id="selectedFields">0 ‰∏™Â≠óÊÆµ</span>
            </div>
            <div class="status-right">
                <span class="status-item" id="cursorPosition">Ë°å: 1, Âàó: 1</span>
                <span class="status-item" id="encoding">UTF-8</span>
            </div>
        </footer>
    </div>

    <!-- ÂºïÂÖ•ËÑöÊú¨ -->
    <script src="../../scripts/config/constants.js"></script>
    <script src="../../scripts/config/UserConfig.js"></script>
    <script src="../../scripts/api/SalesforceConnection.js"></script>
    <script src="../../scripts/api/SOQLExecutor.js"></script>
    <script src="../../scripts/api/ObjectService.js"></script>
    <script src="../../scripts/api/ErrorHandler.js"></script>
    <script src="expand.js"></script>
</body>
</html>